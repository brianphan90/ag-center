{"remainingRequest":"/Users/brianphan/jets/kf-grower-portal/node_modules/babel-loader/lib/index.js!/Users/brianphan/jets/kf-grower-portal/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/brianphan/jets/kf-grower-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/brianphan/jets/kf-grower-portal/src/components/charts/StackedBarChart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/brianphan/jets/kf-grower-portal/src/components/charts/StackedBarChart.vue","mtime":1617753126833},{"path":"/Users/brianphan/jets/kf-grower-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/brianphan/jets/kf-grower-portal/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/brianphan/jets/kf-grower-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/brianphan/jets/kf-grower-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvYnJpYW5waGFuL2pldHMva2YtZ3Jvd2VyLXBvcnRhbC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMvYnJpYW5waGFuL2pldHMva2YtZ3Jvd2VyLXBvcnRhbC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5yZWR1Y2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBmb3JtYXROdW1iZXIgZnJvbSAnQC9saWIvdXRpbHMvZm9ybWF0TnVtYmVyJzsKaW1wb3J0IGNvbG9ycyBmcm9tICdAL2Fzc2V0cy9qcy9jb2xvcnMnOwppbXBvcnQgQmFzZUNoYXJ0IGZyb20gJy4vQmFzZUNoYXJ0JzsKaW1wb3J0IENoYXJ0TGVnZW5kIGZyb20gJy4uL0NoYXJ0TGVnZW5kJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdzdGFja2VkLWJhci1jaGFydCcsCiAgZXh0ZW5kczogQmFzZUNoYXJ0LAogIGNvbXBvbmVudHM6IHsKICAgIENoYXJ0TGVnZW5kOiBDaGFydExlZ2VuZAogIH0sCiAgcHJvcHM6IHsKICAgIGNoYXJ0OiB7CiAgICAgIHR5cGU6IE9iamVjdAogICAgfSwKICAgIGxlZ2VuZDogewogICAgICB0eXBlOiBPYmplY3QKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gey8vIG5vdGhpbmcgeWV0CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGJhcldpZHRoOiBmdW5jdGlvbiBiYXJXaWR0aCgpIHsKICAgICAgdmFyIGF3ID0gdGhpcy5hdzsKICAgICAgcmV0dXJuIE1hdGgubWluKGF3IC8gdGhpcy5jaGFydC5kYXRhLmxlbmd0aCwgNzApOwogICAgfSwKICAgIGJhclNwYWNpbmc6IGZ1bmN0aW9uIGJhclNwYWNpbmcoKSB7CiAgICAgIHZhciBiYXJXaWR0aCA9IHRoaXMuYmFyV2lkdGgsCiAgICAgICAgICBhdyA9IHRoaXMuYXc7CiAgICAgIGNvbnNvbGUubG9nKGJhcldpZHRoKTsKICAgICAgcmV0dXJuIChhdyAtIGJhcldpZHRoICogdGhpcy5jaGFydC5kYXRhLmxlbmd0aCkgLyB0aGlzLmNoYXJ0LmRhdGEubGVuZ3RoOwogICAgfSwKICAgIGxhYmVsVGV4dFNpemU6IGZ1bmN0aW9uIGxhYmVsVGV4dFNpemUoKSB7CiAgICAgIHJldHVybiB0aGlzLmJhcldpZHRoICogMC41NTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmluaXQodGhpcy4kcmVmcy5zdmcpOwogIH0sCiAgbWV0aG9kczogewogICAgZHJhdzogZnVuY3Rpb24gZHJhdygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciB2YWx1ZXMgPSB0aGlzLmNoYXJ0LmRhdGFbMF0udmFsdWVzOwogICAgICB2YXIgeVZhbHVlcyA9IE9iamVjdC5rZXlzKHZhbHVlcykubWFwKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICByZXR1cm4gdmFsdWVzW2tleV07CiAgICAgIH0pOwogICAgICB2YXIgc3VtID0gT2JqZWN0LmtleXModmFsdWVzKS5yZWR1Y2UoZnVuY3Rpb24gKHRvdGFsLCBrZXkpIHsKICAgICAgICByZXR1cm4gdG90YWwgKyB2YWx1ZXNba2V5XTsKICAgICAgfSwgMCk7IC8vIGNvbnN0IHlWYWx1ZXMgPSB0aGlzLmNoYXJ0LmRhdGFbMF0ubWFwKCBkYXR1bSA9PiBkYXR1bS52YWx1ZSApOwoKICAgICAgdmFyIHJhbmdlID0gewogICAgICAgIHN0YXJ0OiAwLAogICAgICAgIGVuZDogc3VtCiAgICAgIH07IC8vIGRyYXcgeS1heGlzIGxhYmVscwoKICAgICAgdmFyIHlBeGlzRGF0YSA9IHRoaXMuZHJhd0F4aXNJbmRpY2F0b3JzKHsKICAgICAgICBheGlzOiAneS1yaWdodCcsCiAgICAgICAgdHJhbnNmb3JtTGFiZWw6IGZ1bmN0aW9uIHRyYW5zZm9ybUxhYmVsKHRleHQpIHsKICAgICAgICAgIHJldHVybiBmb3JtYXROdW1iZXIodGV4dCk7CiAgICAgICAgfSwKICAgICAgICBsaW5lczogewogICAgICAgICAgbnVtYmVyT2ZJbmRpY2F0b3JzOiA2LAogICAgICAgICAgc3BhY2VCZXR3ZWVuTGFiZWxzQW5kTGluZXM6IDEwCiAgICAgICAgfSwKICAgICAgICBjb2xvcjogY29sb3JzLmNvbG9yUHJpbWFyeSwKICAgICAgICByYW5nZTogcmFuZ2UKICAgICAgfSk7IC8vIGNvbnNvbGUubG9nKCB5QXhpc0RhdGEgKTsKICAgICAgLy8gZHJhdyB4LWF4aXMgbGFiZWxzCgogICAgICB2YXIgeEF4aXNEYXRhID0gdGhpcy5kcmF3QXhpc0luZGljYXRvcnMoewogICAgICAgIGF4aXM6ICd4LWJvdHRvbScsCiAgICAgICAgdmFsdWVzOiB0aGlzLmNoYXJ0LmRhdGEsCiAgICAgICAgc3BhY2VCZXR3ZWVuTGFiZWxzQW5kQ2hhcnQ6IDEwLAogICAgICAgIGxhYmVsU3R5bGU6IFtbJ2ZvbnQtc2l6ZScsICcxNHB4J10sIFsnZm9udC13ZWlnaHQnLCAnNzAwJ10sIFsnZm9udC1mYW1pbHknLCAnIk1hbmphcmkiLCBzYW5zLXNlcmlmJ11dCiAgICAgIH0pOyAvLyB4QXhpc0RhdGEuZm9yRWFjaCggKCBpdGVtLCBrZXkgKSA9PiBjb25zb2xlLmxvZyggZ2V0WCgga2V5ICkgKSApOwogICAgICAvLyBDb21wdXRlIHRoZSBwb3NpdGlvbiBhbmQgc2l6ZSBvZiB0aGUgYmFycwoKICAgICAgdmFyIGJhckRhdGEgPSB0aGlzLm15Q29tcHV0ZUJhckRhdGEoeEF4aXNEYXRhKTsgLy8gY29uc29sZS5sb2coIGJhckRhdGEgKTsKCiAgICAgIHZhciBiYXJHcm91cHMgPSBiYXJEYXRhLm1hcChmdW5jdGlvbiAodmFyaWV0eSkgewogICAgICAgIHJldHVybiBfdGhpcy5kcmF3QmFycyh2YXJpZXR5KTsKICAgICAgfSk7CiAgICAgIGNvbnNvbGUubG9nKGJhckdyb3Vwcyk7IC8vIGJhckdyb3Vwcy5mb3JFYWNoKCBncm91cGluZyA9PiBncm91cGluZy5fZ3JvdXBzWzBdLmZvckVhY2goIGcgPT4gY29uc29sZS5sb2coIGcuX19kYXRhX18udGV4dCApICkgKTsKCiAgICAgIGJhckdyb3Vwcy5mb3JFYWNoKGZ1bmN0aW9uIChncm91cGluZykgewogICAgICAgIHJldHVybiBfdGhpcy5kcmF3QmFyTGFiZWxzKGdyb3VwaW5nKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8gcmVwZWF0IGZvciBlYWNoIGl0ZW0gaW4gZGF0YQogICAgbXlDb21wdXRlQmFyRGF0YTogZnVuY3Rpb24gbXlDb21wdXRlQmFyRGF0YSh4RGltcykgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciB0b3RhbERhdGEgPSB0aGlzLmNoYXJ0LmRhdGEubWFwKGZ1bmN0aW9uIChlbnRyeSwgaSkgewogICAgICAgIHZhciBiYXJLZXlzID0gT2JqZWN0LmtleXMoZW50cnkudmFsdWVzKTsKICAgICAgICB2YXIgc3VtID0gYmFyS2V5cy5yZWR1Y2UoZnVuY3Rpb24gKHRvdGFsLCBqKSB7CiAgICAgICAgICByZXR1cm4gdG90YWwgKyBlbnRyeS52YWx1ZXNbal07CiAgICAgICAgfSwgMCk7CiAgICAgICAgdmFyIHJ1bm5pbmdTdW0gPSAwOwogICAgICAgIHJldHVybiBiYXJLZXlzLm1hcChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICAvLyBnZXQgdGhlIHZhbHVlIGFuZCB0aGUgaGVpZ2h0CiAgICAgICAgICB2YXIgdmFsdWUgPSBlbnRyeS52YWx1ZXNba2V5XTsKICAgICAgICAgIHZhciBoZWlnaHQgPSB2YWx1ZSAvIHN1bSAqIF90aGlzMi5haDsgLy8gZGV0ZXJtaW5lIHRoZSB5IHZhbHVlIGZvciB0aGUgYmFyCgogICAgICAgICAgdmFyIHkgPSBfdGhpczIudCArIHJ1bm5pbmdTdW0gLyBzdW0gKiBfdGhpczIuYWg7IC8vIGFkZCB0byBydW5uaW5nIHN1bSBzbyB3ZSBjYW4KICAgICAgICAgIC8vIGRvIHkgdmFsdWUgY2FsY3VsYXRpb25zCgogICAgICAgICAgcnVubmluZ1N1bSArPSB2YWx1ZTsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHdpZHRoOiBfdGhpczIuYmFyV2lkdGgsCiAgICAgICAgICAgIC8vIDMwcHggb24gZWFjaCBzaWRlCiAgICAgICAgICAgIGNvbG9yOiBfdGhpczIubGVnZW5kW2tleV0uY29sb3IsCiAgICAgICAgICAgIHRleHQ6IGZvcm1hdE51bWJlcih2YWx1ZSksCiAgICAgICAgICAgIHg6IF90aGlzMi5nZXRYKGkpLAogICAgICAgICAgICAvLyAzMHB4IHRvIHRoZSBsZWZ0CiAgICAgICAgICAgIHk6IHksCiAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0CiAgICAgICAgICB9OwogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgcmV0dXJuIHRvdGFsRGF0YTsKICAgIH0sCiAgICBkcmF3QmFyczogZnVuY3Rpb24gZHJhd0JhcnMoYmFyRGF0YSkgewogICAgICAvLyBEcmF3IHRoZSBiYXJzCiAgICAgIHZhciBiYXJHcm91cHMgPSB0aGlzLmNhbnZhcy5zZWxlY3RBbGwoImJhcnMtIi5jb25jYXQodGhpcy5pZCkpLmRhdGEoYmFyRGF0YSkuZW50ZXIoKS5hcHBlbmQoJ2cnKTsKICAgICAgYmFyR3JvdXBzLmFwcGVuZCgncmVjdCcpLmF0dHIoJ3gnLCBmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiBkLng7CiAgICAgIH0pLmF0dHIoJ3knLCBmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiBkLnk7CiAgICAgIH0pLmF0dHIoJ2ZpbGwnLCBmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiBkLmNvbG9yOwogICAgICB9KS5hdHRyKCdvcGFjaXR5JywgMC44MCkuYXR0cignaGVpZ2h0JywgZnVuY3Rpb24gKGQpIHsKICAgICAgICByZXR1cm4gZC5oZWlnaHQ7CiAgICAgIH0pLmF0dHIoJ3dpZHRoJywgZnVuY3Rpb24gKGQpIHsKICAgICAgICByZXR1cm4gZC53aWR0aDsKICAgICAgfSkuYXR0cignY2xhc3MnLCAiYmFyLSIuY29uY2F0KHRoaXMuaWQsICIgdHJhbnNsYXRlLSIpLmNvbmNhdCh0aGlzLmlkKSk7CiAgICAgIHJldHVybiBiYXJHcm91cHM7CiAgICB9LAogICAgZHJhd0JhckxhYmVsczogZnVuY3Rpb24gZHJhd0JhckxhYmVscyhiYXJHcm91cHMpIHsKICAgICAgYmFyR3JvdXBzLmFwcGVuZCgndGV4dCcpLmF0dHIoJ2NsYXNzJywgInRleHQtbm9kZS0iLmNvbmNhdCh0aGlzLmlkLCAiIHRyYW5zbGF0ZS0iKS5jb25jYXQodGhpcy5pZCkpLmF0dHIoJ3gnLCBmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiBkLnggLSBkLndpZHRoIC8gODsKICAgICAgfSkgLy8gY2hhbmdlIGxhdGVyIHRvIGNhbGN1bGF0ZWQgdmFsdWUKICAgICAgLmF0dHIoJ3knLCBmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiAoZC55ICsgKGQuaGVpZ2h0ICsgZC55KSkgLyAyIC0gZC5oZWlnaHQgLyA0OwogICAgICB9KS5hdHRyKCdmaWxsJywgZnVuY3Rpb24gKGQpIHsKICAgICAgICByZXR1cm4gZC5jb2xvcjsKICAgICAgfSkuc3R5bGUoJ2ZvbnQtZmFtaWx5JywgJ0JpdHRlcicpLmF0dHIoJ3RleHQtYW5jaG9yJywgJ2VuZCcpLmF0dHIoJ2RvbWluYW50LWJhc2VsaW5lJywgJ3RleHQtYmVmb3JlLWVkZ2UnKSAvLyAuc3R5bGUoICdvcGFjaXR5JywgMCApCiAgICAgIC50ZXh0KGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIGQudGV4dDsKICAgICAgfSk7CiAgICB9LAogICAgZHJhd1hBeGlzSW5kaWNhdG9yczogZnVuY3Rpb24gZHJhd1hBeGlzSW5kaWNhdG9ycyhvcHRpb25zKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIGF4aXMgPSBvcHRpb25zLmF4aXMsCiAgICAgICAgICB2YWx1ZXMgPSBvcHRpb25zLnZhbHVlcywKICAgICAgICAgIHNwYWNlQmV0d2VlbkxhYmVsc0FuZENoYXJ0ID0gb3B0aW9ucy5zcGFjZUJldHdlZW5MYWJlbHNBbmRDaGFydCwKICAgICAgICAgIGxhYmVsU3R5bGUgPSBvcHRpb25zLmxhYmVsU3R5bGU7CgogICAgICB2YXIgZ2V0WCA9IGZ1bmN0aW9uIGdldFgoaSkgewogICAgICAgIHZhciBhdyA9IF90aGlzMy5hdywKICAgICAgICAgICAgbCA9IF90aGlzMy5sOwogICAgICAgIHJldHVybiBsICsgYXcgLyAodmFsdWVzLmxlbmd0aCArIDEpICogKGkgKyAxKTsKICAgICAgfTsKCiAgICAgIHZhciB4QXhpc0RhdGEgPSB2YWx1ZXMubWFwKGZ1bmN0aW9uIChkYXR1bSwgaSkgewogICAgICAgIHZhciB5ID0gZnVuY3Rpb24geSgpIHsKICAgICAgICAgIHJldHVybiBheGlzID09PSAneC10b3AnID8gX3RoaXMzLnQgOiBfdGhpczMudCArIF90aGlzMy5haDsKICAgICAgICB9OwoKICAgICAgICB2YXIgeCA9IGZ1bmN0aW9uIHgoKSB7CiAgICAgICAgICByZXR1cm4gZ2V0WChpKTsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBkYXR1bSksIHt9LCB7CiAgICAgICAgICB4OiB4LAogICAgICAgICAgeTogeSwKICAgICAgICAgIHRleHRBbmNob3I6ICdtaWRkbGUnLAogICAgICAgICAgZG9taW5hbnRCYXNlbGluZTogYXhpcyA9PT0gJ3gtdG9wJyA/ICd0ZXh0LWJlZm9yZS1lZGdlJyA6ICd0ZXh0LWFmdGVyLWVkZ2UnCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICB2YXIgeEF4aXNMYWJlbHMgPSB0aGlzLmNhbnZhcy5zZWxlY3RBbGwoJ3gtYXhpcy1sYWJlbHMgYXhpcy1sYWJlbCcpLmRhdGEoeEF4aXNEYXRhKS5lbnRlcigpLmFwcGVuZCgndGV4dCcpLmF0dHIoJ3RleHQtYW5jaG9yJywgZnVuY3Rpb24gKGQpIHsKICAgICAgICByZXR1cm4gZC50ZXh0QW5jaG9yOwogICAgICB9KS5hdHRyKCd4JywgZnVuY3Rpb24gKGQpIHsKICAgICAgICByZXR1cm4gZC54KCk7CiAgICAgIH0pLmF0dHIoJ3knLCBmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiBkLnkoKTsKICAgICAgfSkuYXR0cignZG9taW5hbnQtYmFzZWxpbmUnLCBmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiBkLmRvbWluYW50QmFzZWxpbmU7CiAgICAgIH0pLnN0eWxlKCdmaWxsJywgZnVuY3Rpb24gKGQpIHsKICAgICAgICByZXR1cm4gZC5jb2xvcjsKICAgICAgfSkudGV4dChmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiBkLmxhYmVsOwogICAgICB9KTsKCiAgICAgIGlmIChsYWJlbFN0eWxlKSB7CiAgICAgICAgdGhpcy5hcHBseU1ldGhvZHMoeEF4aXNMYWJlbHMsICdzdHlsZScsIGxhYmVsU3R5bGUpOwogICAgICB9CgogICAgICB2YXIgeEF4aXNMYWJlbERpbXMgPSBBcnJheS5mcm9tKHhBeGlzTGFiZWxzLl9ncm91cHNbMF0pLm1hcChmdW5jdGlvbiAoYSkgewogICAgICAgIHJldHVybiBhLmdldEJCb3goKTsKICAgICAgfSk7CiAgICAgIHZhciB4QXhpc0xhYmVsSGVpZ2h0cyA9IHhBeGlzTGFiZWxEaW1zLm1hcChmdW5jdGlvbiAoYSkgewogICAgICAgIHJldHVybiBhLmhlaWdodDsKICAgICAgfSk7IC8vIGNvbnN0IHhBeGlzTGFiZWxXaWR0aHMgID0geEF4aXNMYWJlbERpbXMubWFwKCBhID0+IGEud2lkdGggKTsKCiAgICAgIHZhciBiaWdnZXN0WEF4aXNMYWJlbCA9IE1hdGgubWF4LmFwcGx5KE1hdGgsIF90b0NvbnN1bWFibGVBcnJheSh4QXhpc0xhYmVsSGVpZ2h0cykpOwoKICAgICAgdmFyIGRpbXMgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKGF4aXMgPT09ICd5LXRvcCcpIHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHQ6IGJpZ2dlc3RYQXhpc0xhYmVsICsgc3BhY2VCZXR3ZWVuTGFiZWxzQW5kQ2hhcnQKICAgICAgICAgIH07CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gewogICAgICAgICAgYjogYmlnZ2VzdFhBeGlzTGFiZWwgKyBzcGFjZUJldHdlZW5MYWJlbHNBbmRDaGFydAogICAgICAgIH07CiAgICAgIH0oKTsKCiAgICAgIHRoaXMudXBkYXRlRGltcyhkaW1zKTsKICAgICAgdGhpcy5yZWFsaWduQXhpc0xhYmVscygpOyAvLyA/IGNlbnRlciB0ZXh0cyBhcyBuZWNlc3NhcnkKICAgICAgLy8gY29uc3QgdG90YWxUZXh0U3BhY2UgPSB4QXhpc0xhYmVsV2lkdGhzLnJlZHVjZSggKCBzdW0sIHcgKSA9PiBzdW0gKyB3LCAwICk7CiAgICAgIC8vIGNvbnN0IGxlZnRPdmVyU3BhY2UgID0gdGhpcy5hdyAtIHRvdGFsVGV4dFNwYWNlOwogICAgICAvLyBjb25zdCBzcGFjZUFyb3VuZCAgICA9ICggbGVmdE92ZXJTcGFjZSAvICggdmFsdWVzLmxlbmd0aCArIDEgKSApOwoKICAgICAgcmV0dXJuIHhBeGlzTGFiZWxEaW1zOwogICAgfSwKICAgIGdldFg6IGZ1bmN0aW9uIGdldFgoaSkgewogICAgICB2YXIgbCA9IHRoaXMubCwKICAgICAgICAgIGJhcldpZHRoID0gdGhpcy5iYXJXaWR0aCwKICAgICAgICAgIGJhclNwYWNpbmcgPSB0aGlzLmJhclNwYWNpbmc7CiAgICAgIHZhciB4ID0gbCArIGJhcldpZHRoICogaSArIGJhclNwYWNpbmcgKiBpICsgYmFyU3BhY2luZyAvIDI7CiAgICAgIHJldHVybiB4OwogICAgfQogIH0KfTs="},{"version":3,"sources":["StackedBarChart.vue"],"names":[],"mappings":"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","sourcesContent":["<template lang='pug'>\n\t.chart\n\t\tsvg(ref='svg')\n\t\t.legend\n\t\t\tchart-legend(:legend='this.legend'\n\t\t\tcolumns=1)\n</template>\n\n<script>\nimport formatNumber from '@/lib/utils/formatNumber';\nimport colors from '@/assets/js/colors';\nimport BaseChart from './BaseChart';\nimport ChartLegend from '../ChartLegend';\n\nexport default {\n\tname       : 'stacked-bar-chart',\n\textends    : BaseChart,\n\tcomponents : {\n\t\tChartLegend\n\t},\n\tprops : {\n\t\tchart : {\n\t\t\ttype : Object,\n\t\t},\n\t\tlegend : {\n\t\t\ttype : Object,\n\n\t\t}\n\t},\n\n\tdata : () => ( {\n\t\t// nothing yet\n\t} ),\n\tcomputed : {\n\t\tbarWidth() {\n\t\t\tconst { aw } = this;\n\t\t\treturn Math.min( aw / this.chart.data.length, 70 );\n\t\t},\n\t\tbarSpacing() {\n\t\t\tconst { barWidth, aw } = this;\n\t\t\tconsole.log( barWidth );\n\t\t\treturn ( aw - ( barWidth * this.chart.data.length ) ) / this.chart.data.length;\n\t\t},\n\t\tlabelTextSize() {\n\t\t\treturn this.barWidth * 0.55;\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.init( this.$refs.svg );\n\t},\n\tmethods : {\n\t\tdraw() {\n\t\t\tconst { values } = this.chart.data[0];\n\t\t\tconst yValues = Object.keys( values ).map( key => values[key] );\n\t\t\tconst sum = Object.keys( values ).reduce( ( total, key ) => total + values[key], 0 );\n\t\t\t// const yValues = this.chart.data[0].map( datum => datum.value );\n\t\t\tconst range   = { start : 0, end : sum };\n\n\t\t\t// draw y-axis labels\n\t\t\tconst yAxisData = this.drawAxisIndicators( {\n\t\t\t\taxis           : 'y-right',\n\t\t\t\ttransformLabel : text => formatNumber( text ),\n\t\t\t\tlines          : {\n\t\t\t\t\tnumberOfIndicators         : 6,\n\t\t\t\t\tspaceBetweenLabelsAndLines : 10,\n\t\t\t\t},\n\t\t\t\tcolor : colors.colorPrimary,\n\t\t\t\trange,\n\t\t\t} );\n\t\t\t// console.log( yAxisData );\n\t\t\t// draw x-axis labels\n\t\t\tconst xAxisData = this.drawAxisIndicators( {\n\t\t\t\taxis                       : 'x-bottom',\n\t\t\t\tvalues                     : this.chart.data,\n\t\t\t\tspaceBetweenLabelsAndChart : 10,\n\t\t\t\tlabelStyle                 : [\n\t\t\t\t\t['font-size', '14px'],\n\t\t\t\t\t['font-weight', '700'],\n\t\t\t\t\t['font-family', '\"Manjari\", sans-serif'],\n\t\t\t\t],\n\t\t\t} );\n\t\t\t// xAxisData.forEach( ( item, key ) => console.log( getX( key ) ) );\n\t\t\t// Compute the position and size of the bars\n\t\t\tconst barData   = this.myComputeBarData( xAxisData );\n\t\t\t// console.log( barData );\n\t\t\tconst barGroups = barData.map( variety => this.drawBars( variety ) );\n\t\t\tconsole.log( barGroups );\n\t\t\t// barGroups.forEach( grouping => grouping._groups[0].forEach( g => console.log( g.__data__.text ) ) );\n\t\t\tbarGroups.forEach( grouping => this.drawBarLabels( grouping ) );\n\n\t\t},\n\n\t\t// repeat for each item in data\n\t\tmyComputeBarData( xDims ) {\n\t\t\tconst totalData = this.chart.data.map( ( entry, i ) => {\n\t\t\t\tconst barKeys = Object.keys( entry.values );\n\t\t\t\tconst sum = barKeys.reduce( ( total, j ) => total + entry.values[j], 0 );\n\t\t\t\tlet runningSum = 0;\n\t\t\t\treturn barKeys.map( ( key ) => {\n\t\t\t\t// get the value and the height\n\t\t\t\t\tconst value  = entry.values[key];\n\t\t\t\t\tconst height = ( value / sum ) * this.ah;\n\t\t\t\t\t// determine the y value for the bar\n\t\t\t\t\tconst y = this.t + ( ( runningSum / sum ) * this.ah );\n\t\t\t\t\t// add to running sum so we can\n\t\t\t\t\t// do y value calculations\n\t\t\t\t\trunningSum += value;\n\t\t\t\t\treturn {\n\t\t\t\t\t\twidth : this.barWidth, // 30px on each side\n\t\t\t\t\t\tcolor : this.legend[key].color,\n\t\t\t\t\t\ttext  : formatNumber( value ),\n\t\t\t\t\t\tx     : this.getX( i ), // 30px to the left\n\t\t\t\t\t\ty,\n\t\t\t\t\t\theight,\n\t\t\t\t\t};\n\t\t\t\t} );\n\t\t\t} );\n\t\t\treturn totalData;\n\n\t\t},\n\n\t\tdrawBars( barData ) {\n\t\t\t// Draw the bars\n\t\t\tconst barGroups = this.canvas.selectAll( `bars-${this.id}` )\n\t\t\t\t.data( barData )\n\t\t\t\t.enter()\n\t\t\t\t.append( 'g' );\n\t\t\tbarGroups\n\t\t\t\t.append( 'rect' )\n\t\t\t\t.attr( 'x', d => d.x )\n\t\t\t\t.attr( 'y', d => d.y )\n\t\t\t\t.attr( 'fill', d => d.color )\n\t\t\t\t.attr( 'opacity', 0.80 )\n\t\t\t\t.attr( 'height', d => d.height )\n\t\t\t\t.attr( 'width', d => d.width )\n\t\t\t\t.attr( 'class', `bar-${this.id} translate-${this.id}` );\n\n\t\t\treturn barGroups;\n\t\t},\n\t\tdrawBarLabels( barGroups ) {\n\t\t\tbarGroups\n\t\t\t\t.append( 'text' )\n\t\t\t\t.attr( 'class', `text-node-${this.id} translate-${this.id}` )\n\t\t\t\t.attr( 'x', d => ( d.x - d.width / 8 ) ) // change later to calculated value\n\t\t\t\t.attr( 'y', d => ( d.y + ( d.height + d.y ) ) / 2 - d.height / 4 )\n\t\t\t\t.attr( 'fill', d => d.color )\n\t\t\t\t.style( 'font-family', 'Bitter' )\n\t\t\t\t.attr( 'text-anchor', 'end' )\n\t\t\t\t.attr( 'dominant-baseline', 'text-before-edge' )\n\t\t\t\t// .style( 'opacity', 0 )\n\t\t\t\t.text( d => d.text );\n\t\t},\n\t\tdrawXAxisIndicators( options ) {\n\t\t\tconst {\n\t\t\t\taxis,\n\t\t\t\tvalues,\n\t\t\t\tspaceBetweenLabelsAndChart,\n\t\t\t\tlabelStyle,\n\t\t\t} = options;\n\n\t\t\tconst getX = ( i ) => {\n\t\t\t\tconst { aw, l } = this;\n\n\t\t\t\treturn l + ( ( aw / ( values.length + 1 ) ) * ( i + 1 ) );\n\t\t\t};\n\n\t\t\tconst xAxisData = values.map( ( datum, i ) => {\n\t\t\t\tconst y = () => ( ( axis === 'x-top' ) ? this.t : this.t + this.ah );\n\t\t\t\tconst x = () => getX( i );\n\n\t\t\t\treturn {\n\t\t\t\t\t...datum,\n\t\t\t\t\tx,\n\t\t\t\t\ty,\n\t\t\t\t\ttextAnchor       : 'middle',\n\t\t\t\t\tdominantBaseline : ( axis === 'x-top' ) ? 'text-before-edge' : 'text-after-edge',\n\t\t\t\t};\n\t\t\t} );\n\n\t\t\tconst xAxisLabels = this.canvas\n\t\t\t\t.selectAll( 'x-axis-labels axis-label' )\n\t\t\t\t.data( xAxisData )\n\t\t\t\t.enter()\n\t\t\t\t.append( 'text' )\n\t\t\t\t.attr( 'text-anchor', d => d.textAnchor )\n\t\t\t\t.attr( 'x', d => d.x() )\n\t\t\t\t.attr( 'y', d => d.y() )\n\t\t\t\t.attr( 'dominant-baseline', d => d.dominantBaseline )\n\t\t\t\t.style( 'fill', d => d.color )\n\t\t\t\t.text( d => d.label );\n\n\t\t\tif ( labelStyle ) {\n\t\t\t\tthis.applyMethods( xAxisLabels, 'style', labelStyle );\n\t\t\t}\n\n\t\t\tconst xAxisLabelDims    = Array.from( xAxisLabels._groups[0] ).map( a => a.getBBox() );\n\t\t\tconst xAxisLabelHeights = xAxisLabelDims.map( a => a.height );\n\t\t\t// const xAxisLabelWidths  = xAxisLabelDims.map( a => a.width );\n\t\t\tconst biggestXAxisLabel = Math.max( ...xAxisLabelHeights );\n\n\t\t\tconst dims = ( () => {\n\t\t\t\tif ( axis === 'y-top' ) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tt : biggestXAxisLabel + spaceBetweenLabelsAndChart,\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\tb : biggestXAxisLabel + spaceBetweenLabelsAndChart,\n\t\t\t\t};\n\t\t\t} )();\n\n\t\t\tthis.updateDims( dims );\n\t\t\tthis.realignAxisLabels();\n\n\t\t\t// ? center texts as necessary\n\t\t\t// const totalTextSpace = xAxisLabelWidths.reduce( ( sum, w ) => sum + w, 0 );\n\t\t\t// const leftOverSpace  = this.aw - totalTextSpace;\n\t\t\t// const spaceAround    = ( leftOverSpace / ( values.length + 1 ) );\n\n\t\t\treturn xAxisLabelDims;\n\n\t\t},\n\t\tgetX( i ) {\n\t\t\tconst {\n\t\t\t\tl,\n\t\t\t\tbarWidth,\n\t\t\t\tbarSpacing,\n\t\t\t} = this;\n\t\t\tconst x = l + ( barWidth * i ) + ( barSpacing * i ) + ( barSpacing / 2 );\n\t\t\treturn x;\n\t\t},\n\n\t}\n};\n</script>\n\n<style lang='scss'>\n\t.chart{\n\t\t// display: flex;\n\t\t// align-items: stretch;\n\t\t// width: 100%;\n\t\t// height: 300px;\n\t\theight: 100%;\n\t\twidth: 100%;\n\n\t\tsvg {\n\t\t// flex: 2 2 0\n\t\theight: 100%;\n\t\twidth: 70%\n\t\t};\n\t\t.legend{\n\t\t\tdisplay: inline-block;\n\t\t\tvertical-align: top;\n\t\t}\n\t}\n\n</style>\n"],"sourceRoot":"src/components/charts"}]}