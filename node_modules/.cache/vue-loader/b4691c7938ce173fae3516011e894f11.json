{"remainingRequest":"/Users/brianphan/jets/kf-grower-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/brianphan/jets/kf-grower-portal/src/views/app/SelectContract.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/brianphan/jets/kf-grower-portal/src/views/app/SelectContract.vue","mtime":1619628137221},{"path":"/Users/brianphan/jets/kf-grower-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/brianphan/jets/kf-grower-portal/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/brianphan/jets/kf-grower-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/brianphan/jets/kf-grower-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IEdldENvbnRyYWN0TGlzdCB9IGZyb20gJ0AvbGliL0FQSSc7CmltcG9ydCBMb2FkaW5nU2NyZWVuIGZyb20gJ0AvY29tcG9uZW50cy9Mb2FkaW5nU2NyZWVuJzsKCmV4cG9ydCBkZWZhdWx0IHsKCW5hbWUgICAgICAgOiAnc2VsZWN0LWNvbnRhY3QnLAoJY29tcG9uZW50cyA6IHsKCQlMb2FkaW5nU2NyZWVuCgl9LAoJZGF0YSA6ICgpID0+ICggewoJCWNvbnRyYWN0cyA6IFtdLAoJCWlzTG9hZGluZyA6IGZhbHNlCgl9ICksCgoJY3JlYXRlZCgpIHsKCQlHZXRDb250cmFjdExpc3QoKQoJCQkudGhlbiggKCBjb250cmFjdHMgKSA9PiB7CgkJCQl0aGlzLmNvbnRyYWN0cyA9IGNvbnRyYWN0czsKCQkJfSApOwoJfSwKCgltZXRob2RzIDogewoKCQlhc3luYyBzZWxlY3RDb250cmFjdCggY29udHJhY3QgKSB7CgkJCXRoaXMuJHN0b3JlLmRpc3BhdGNoKCAnc2VsZWN0Q29udHJhY3QnLCBjb250cmFjdCApOwoJCQljb25zdCBhcmdzID0gewoJCQkJQ29udHJhY3ROdW0gIDogY29udHJhY3QuY29udHJhY3ROdW0sCgkJCQlDb250cmFjdE5hbWUgOiBjb250cmFjdC5jb250cmFjdE5hbWUsCgkJCX07CgkJCXRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKCQkJdHJ5IHsKCQkJCWF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCAnc2V0RW50aXR5U3VtbWFyeURhdGFQYXlhYmxlWWllbGQnLCBjb250cmFjdC5jb250cmFjdE51bSApOwoJCQkJYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goICdzZXRFbnRpdHlTdW1tYXJ5RGF0YUluc2VjdERhbWFnZScsIGNvbnRyYWN0LmNvbnRyYWN0TnVtICk7CgkJCQlhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCggJ3NldEVudGl0eVN1bW1hcnlEYXRhUXVhbGl0eVN1bW1hcnknLCBjb250cmFjdC5jb250cmFjdE51bSApOwoJCQkJYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goICdzZXRWYXJpZXR5U3VtbWFyeURhdGFQYXlhYmxlWWllbGQnLCBjb250cmFjdC5jb250cmFjdE51bSApOwoJCQkJYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goICdzZXRWYXJpZXR5U3VtbWFyeURhdGFRdWFsaXR5U3VtbWFyeScsIGNvbnRyYWN0LmNvbnRyYWN0TnVtICk7CgkJCQlhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCggJ3NldFZhcmlldHlTdW1tYXJ5RGF0YUluc2VjdERhbWFnZScsIGNvbnRyYWN0LmNvbnRyYWN0TnVtICk7CgkJCQlhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCggJ3NldEZpZWxkU3VtbWFyeURhdGFRdWFsaXR5U3VtbWFyeScsIGNvbnRyYWN0LmNvbnRyYWN0TnVtICk7CgkJCQlhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCggJ3NldEZpZWxkU3VtbWFyeURhdGFJbnNlY3REYW1hZ2UnLCBjb250cmFjdC5jb250cmFjdE51bSApOwoJCQkJdGhpcy5pc0xvYWRpbmcgPSAhdGhpcy5pc0xvYWRlZCgpOwoJCQl9CgkJCWNhdGNoICggZXJyICkgewoJCQkJY29uc29sZS5sb2coIGVyciApOwoJCQl9CgkJCWZpbmFsbHkgewoJCQkJdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsKCQkJCWNvbnNvbGUubG9nKCAnZG9uZScgKTsKCQkJCXRoaXMuJHJvdXRlci5wdXNoKCB7IHBhdGggOiAnaG9tZScgfSApOwoJCQl9CgoKCQl9LAoJCWlzTG9hZGVkKCkgewoJCQlpZiAoCXRoaXMuJHN0b3JlLmdldHRlcnMuZW50aXR5U3VtbWFyeURhdGEuSW5zZWN0RGFtYWdlLmNoYXJ0RGF0YS5sZW5ndGgKCQkJCSYmIHRoaXMuJHN0b3JlLmdldHRlcnMuZW50aXR5U3VtbWFyeURhdGEuUGF5YWJsZVlpZWxkLmNoYXJ0RGF0YS5sZW5ndGgKCQkJCSYmIHRoaXMuJHN0b3JlLmdldHRlcnMuZW50aXR5U3VtbWFyeURhdGEuUXVhbGl0eVN1bW1hcnkuY2hhcnREYXRhLmxlbmd0aAoJCQkJJiYgdGhpcy4kc3RvcmUuZ2V0dGVycy52YXJpZXR5U3VtbWFyeURhdGEuSW5zZWN0RGFtYWdlLmNoYXJ0RGF0YS5sZW5ndGgKCQkJCSYmIHRoaXMuJHN0b3JlLmdldHRlcnMudmFyaWV0eVN1bW1hcnlEYXRhLlBheWFibGVZaWVsZC5jaGFydERhdGEubGVuZ3RoCgkJCQkmJiB0aGlzLiRzdG9yZS5nZXR0ZXJzLnZhcmlldHlTdW1tYXJ5RGF0YS5RdWFsaXR5U3VtbWFyeS5jaGFydERhdGEubGVuZ3RoCgkJCQkmJiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmZpZWxkU3VtbWFyeURhdGEuSW5zZWN0RGFtYWdlLmNoYXJ0RGF0YS5sZW5ndGgKCQkJCSYmIHRoaXMuJHN0b3JlLmdldHRlcnMuZmllbGRTdW1tYXJ5RGF0YS5QYXlhYmxlWWllbGQuY2hhcnREYXRhLmxlbmd0aAoJCQkJJiYgdGhpcy4kc3RvcmUuZ2V0dGVycy5maWVsZFN1bW1hcnlEYXRhLlF1YWxpdHlTdW1tYXJ5LmNoYXJ0RGF0YS5sZW5ndGgKCQkJKSByZXR1cm4gdHJ1ZTsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCX0sCgljb21wdXRlZCA6IHsKCQlsb2FkaW5nKCkgewoJCQlpZiAoCXRoaXMuJHN0b3JlLmdldHRlcnMuZW50aXR5U3VtbWFyeURhdGEuSW5zZWN0RGFtYWdlLmNoYXJ0RGF0YS5sZW5ndGgKCQkJCSYmIHRoaXMuJHN0b3JlLmdldHRlcnMuZW50aXR5U3VtbWFyeURhdGEuUGF5YWJsZVlpZWxkLmNoYXJ0RGF0YS5sZW5ndGgKCQkJCSYmIHRoaXMuJHN0b3JlLmdldHRlcnMuZW50aXR5U3VtbWFyeURhdGEuUXVhbGl0eVN1bW1hcnkuY2hhcnREYXRhLmxlbmd0aAoJCQkJJiYgdGhpcy4kc3RvcmUuZ2V0dGVycy52YXJpZXR5U3VtbWFyeURhdGEuSW5zZWN0RGFtYWdlLmNoYXJ0RGF0YS5sZW5ndGgKCQkJCSYmIHRoaXMuJHN0b3JlLmdldHRlcnMudmFyaWV0eVN1bW1hcnlEYXRhLlBheWFibGVZaWVsZC5jaGFydERhdGEubGVuZ3RoCgkJCQkmJiB0aGlzLiRzdG9yZS5nZXR0ZXJzLnZhcmlldHlTdW1tYXJ5RGF0YS5RdWFsaXR5U3VtbWFyeS5jaGFydERhdGEubGVuZ3RoCgkJCQkmJiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmZpZWxkU3VtbWFyeURhdGEuSW5zZWN0RGFtYWdlLmNoYXJ0RGF0YS5sZW5ndGgKCQkJCSYmIHRoaXMuJHN0b3JlLmdldHRlcnMuZmllbGRTdW1tYXJ5RGF0YS5QYXlhYmxlWWllbGQuY2hhcnREYXRhLmxlbmd0aAoJCQkJJiYgdGhpcy4kc3RvcmUuZ2V0dGVycy5maWVsZFN1bW1hcnlEYXRhLlF1YWxpdHlTdW1tYXJ5LmNoYXJ0RGF0YS5sZW5ndGgKCQkJKSByZXR1cm4gdHJ1ZTsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCX0KCgp9Owo="},{"version":3,"sources":["SelectContract.vue"],"names":[],"mappings":";;;;;;;;;;;AAWA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA","file":"SelectContract.vue","sourceRoot":"src/views/app","sourcesContent":["<template lang=\"pug\">\n\t.main\n\t\tLoadingScreen(v-if='isLoading')\n\t\t.select-contract(v-else)\n\t\t\th1 Select a contract\n\t\t\t.contracts\n\t\t\t\t.contract(v-for='contract in contracts' @click='selectContract( contract )')\n\t\t\t\t\tp {{ contract.contractName }} - {{ contract.contractNum }}\n</template>\n\n<script>\nimport { GetContractList } from '@/lib/API';\nimport LoadingScreen from '@/components/LoadingScreen';\n\nexport default {\n\tname       : 'select-contact',\n\tcomponents : {\n\t\tLoadingScreen\n\t},\n\tdata : () => ( {\n\t\tcontracts : [],\n\t\tisLoading : false\n\t} ),\n\n\tcreated() {\n\t\tGetContractList()\n\t\t\t.then( ( contracts ) => {\n\t\t\t\tthis.contracts = contracts;\n\t\t\t} );\n\t},\n\n\tmethods : {\n\n\t\tasync selectContract( contract ) {\n\t\t\tthis.$store.dispatch( 'selectContract', contract );\n\t\t\tconst args = {\n\t\t\t\tContractNum  : contract.contractNum,\n\t\t\t\tContractName : contract.contractName,\n\t\t\t};\n\t\t\tthis.isLoading = true;\n\t\t\ttry {\n\t\t\t\tawait this.$store.dispatch( 'setEntitySummaryDataPayableYield', contract.contractNum );\n\t\t\t\tawait this.$store.dispatch( 'setEntitySummaryDataInsectDamage', contract.contractNum );\n\t\t\t\tawait this.$store.dispatch( 'setEntitySummaryDataQualitySummary', contract.contractNum );\n\t\t\t\tawait this.$store.dispatch( 'setVarietySummaryDataPayableYield', contract.contractNum );\n\t\t\t\tawait this.$store.dispatch( 'setVarietySummaryDataQualitySummary', contract.contractNum );\n\t\t\t\tawait this.$store.dispatch( 'setVarietySummaryDataInsectDamage', contract.contractNum );\n\t\t\t\tawait this.$store.dispatch( 'setFieldSummaryDataQualitySummary', contract.contractNum );\n\t\t\t\tawait this.$store.dispatch( 'setFieldSummaryDataInsectDamage', contract.contractNum );\n\t\t\t\tthis.isLoading = !this.isLoaded();\n\t\t\t}\n\t\t\tcatch ( err ) {\n\t\t\t\tconsole.log( err );\n\t\t\t}\n\t\t\tfinally {\n\t\t\t\tthis.isLoading = false;\n\t\t\t\tconsole.log( 'done' );\n\t\t\t\tthis.$router.push( { path : 'home' } );\n\t\t\t}\n\n\n\t\t},\n\t\tisLoaded() {\n\t\t\tif (\tthis.$store.getters.entitySummaryData.InsectDamage.chartData.length\n\t\t\t\t&& this.$store.getters.entitySummaryData.PayableYield.chartData.length\n\t\t\t\t&& this.$store.getters.entitySummaryData.QualitySummary.chartData.length\n\t\t\t\t&& this.$store.getters.varietySummaryData.InsectDamage.chartData.length\n\t\t\t\t&& this.$store.getters.varietySummaryData.PayableYield.chartData.length\n\t\t\t\t&& this.$store.getters.varietySummaryData.QualitySummary.chartData.length\n\t\t\t\t&& this.$store.getters.fieldSummaryData.InsectDamage.chartData.length\n\t\t\t\t&& this.$store.getters.fieldSummaryData.PayableYield.chartData.length\n\t\t\t\t&& this.$store.getters.fieldSummaryData.QualitySummary.chartData.length\n\t\t\t) return true;\n\t\t\treturn false;\n\t\t}\n\t},\n\tcomputed : {\n\t\tloading() {\n\t\t\tif (\tthis.$store.getters.entitySummaryData.InsectDamage.chartData.length\n\t\t\t\t&& this.$store.getters.entitySummaryData.PayableYield.chartData.length\n\t\t\t\t&& this.$store.getters.entitySummaryData.QualitySummary.chartData.length\n\t\t\t\t&& this.$store.getters.varietySummaryData.InsectDamage.chartData.length\n\t\t\t\t&& this.$store.getters.varietySummaryData.PayableYield.chartData.length\n\t\t\t\t&& this.$store.getters.varietySummaryData.QualitySummary.chartData.length\n\t\t\t\t&& this.$store.getters.fieldSummaryData.InsectDamage.chartData.length\n\t\t\t\t&& this.$store.getters.fieldSummaryData.PayableYield.chartData.length\n\t\t\t\t&& this.$store.getters.fieldSummaryData.QualitySummary.chartData.length\n\t\t\t) return true;\n\t\t\treturn false;\n\t\t}\n\t}\n\n\n};\n</script>\n\n<style lang=\"scss\">\n\t.select-contract {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\n\t\t.contracts {\n\t\t\twidth: 90%;\n\t\t\tmax-width: 600px;\n\t\t\tbackground-color: $bg-color;\n\t\t\tborder-radius: 10px;\n\t\t\tpadding: 8px 0px;\n\n\t\t\t.contract {\n\t\t\t\tpadding: 8px 0px;\n\t\t\t\tcursor: pointer;\n\n\t\t\t\tp {\n\t\t\t\t\tmargin : 0px;\n\t\t\t\t}\n\n\t\t\t\t&:hover {\n\t\t\t\t\tbackground-color: darken( $bg-color, 20 );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n</style>\n"]}]}